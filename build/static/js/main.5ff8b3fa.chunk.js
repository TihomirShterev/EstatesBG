(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[1],{12:function(e,t,n){"use strict";var o=n(0),r=n.n(o).a.createContext({loggedIn:!1,user:null,logIn:function(){},logOut:function(){}});t.a=r},20:function(e,t,n){"use strict";t.a=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(22),u=n.n(c),i=n(8),l=n(9),a=n(11),s=n(10),j=n(12),h=n(20),b=n(1),d=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).logIn=function(e){o.setState({loggedIn:!0,user:e})},o.logOut=function(){document.cookie="auth-cookie= ; expires = Thu, 01 Jan 1970 00:00:00 HMT",o.setState({loggedIn:!1,user:null})},o.state={loggedIn:null,user:null},o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(h.a)("auth-cookie");t?fetch("https://estatesbg.herokuapp.com/api/users/verify",{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){return e.json()})).then((function(t){t.status?e.logIn({email:t.user.email,id:t.user._id}):e.logOut()})):this.logOut()}},{key:"render",value:function(){var e=this.state,t=e.loggedIn,n=e.user;return Object(b.jsx)(j.a.Provider,{value:{loggedIn:t,user:n,logIn:this.logIn,logOut:this.logOut},children:this.props.children})}}]),n}(o.Component),p=(n(29),n(19)),O=n(3),f=r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,55))})),g=r.a.lazy((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,56))})),m=r.a.lazy((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,57))})),x=r.a.lazy((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,58))})),v=r.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,62))})),y=r.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,59))})),I=r.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,60))})),k=r.a.lazy((function(){return n.e(4).then(n.bind(null,61))})),z=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.context.loggedIn;return Object(b.jsx)(p.a,{children:Object(b.jsx)(o.Suspense,{fallback:Object(b.jsx)("h1",{children:"Loading....."}),children:Object(b.jsxs)(O.d,{children:[Object(b.jsx)(O.b,{path:"/",exact:!0,component:f}),Object(b.jsx)(O.b,{path:"/user/register",component:g}),Object(b.jsx)(O.b,{path:"/user/login",component:m}),Object(b.jsx)(O.b,{path:"/user/logout",render:function(){return e?null:Object(b.jsx)(O.a,{to:"/"})}}),Object(b.jsx)(O.b,{path:"/user/profile/:userId",component:x}),Object(b.jsx)(O.b,{path:"/item",exact:!0,component:v}),Object(b.jsx)(O.b,{path:"/item/create",children:e?Object(b.jsx)(y,{}):Object(b.jsx)(O.a,{to:"/user/login"})}),Object(b.jsx)(O.b,{path:"/item/details/:itemId",children:e?Object(b.jsx)(I,{}):Object(b.jsx)(O.a,{to:"/user/login"})}),Object(b.jsx)(O.b,{component:k})]})})})}}]),n}(o.Component);z.contextType=j.a;var P=z;u.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(d,{children:Object(b.jsx)(P,{})})}),document.getElementById("root"))}},[[35,2,3]]]);
//# sourceMappingURL=main.5ff8b3fa.chunk.js.map