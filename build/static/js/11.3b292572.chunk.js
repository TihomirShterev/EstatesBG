(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[11],{40:function(e,r,t){"use strict";var a=t(36),s=t.n(a),n=t(37),o="https://estatesbg.herokuapp.com/api/users",i={authenticate:function(){var e=Object(n.a)(s.a.mark((function e(r,t,a,n){var i,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(o+r,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return i=e.sent,c=i.headers.get("Authorization"),document.cookie="auth-cookie=".concat(c),e.next=8,i.json();case 8:l=e.sent,c?a({email:l.email,id:l._id}):n(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r,t,a,s){return e.apply(this,arguments)}}(),getProfileInfo:function(){var e=Object(n.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(o,"/profile?_id=").concat(r)));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};r.a=i},50:function(e,r,t){e.exports={login:"register_login__ZZOm_",register:"register_register__kF0f9",tel:"register_tel__PZfe2",field:"register_field__15Z9i",error:"register_error__NZZAW","input-error":"register_input-error__2aPJ_"}},58:function(e,r,t){"use strict";t.r(r);var a=t(36),s=t.n(a),n=t(37),o=t(8),i=t(9),c=t(11),l=t(10),d=t(0),u=t(38),p=t(50),h=t.n(p),j=t(19),f=t(3),m=t(12),b=t(40),g=t(1),x=function(e){Object(c.a)(t,e);var r=Object(l.a)(t);function t(e){var a;return Object(o.a)(this,t),(a=r.call(this,e)).handleChange=function(e,r){var t={};t[r]=e.target.value,a.setState(t)},a.handleSubmit=function(){var e=Object(n.a)(s.a.mark((function e(r){var t,n,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=a.state,n=t.email,o=t.password,i=t.rePassword,0<n.length&&!1===/^[a-zA-Z0-9.-]{6,}@\w+.(com|bg)$/.test(n)?a.setState({emailError:!0}):a.setState({emailError:!1}),0<o.length&&o.length<6?a.setState({passwordError:!0}):a.setState({passwordError:!1}),0<i.length&&i!==o?a.setState({rePasswordError:!0}):a.setState({rePasswordError:!1}),n&&o&&i?a.setState({emptyFieldsError:!1}):a.setState({emptyFieldsError:!0}),!(/^[a-zA-Z0-9.-]{6,}@\w+.(com|bg)$/.test(n)&&o.length>=6&&i&&i===o)){e.next=10;break}return e.next=10,b.a.authenticate("/register",{email:n,password:o,rePassword:i},(function(e){a.context.logIn(e),a.props.history.push("/")}),(function(e){return console.log("Error",e)}));case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),a.state={email:"",password:"",rePassword:"",emailError:!1,passwordError:!1,rePasswordError:!1,emptyFieldsError:!1},a}return Object(i.a)(t,[{key:"render",value:function(){var e=this,r=this.state,t=r.email,a=r.password,s=r.rePassword,n=r.emailError?"Please enter a valid email":null,o=r.passwordError?"Please enter a valid password consisting at least 6 characters":null,i=r.rePasswordError?"Please enter a matching password":null,c=r.emptyFieldsError?"Please fill all fields above":null;return Object(g.jsxs)(u.a,{children:[Object(g.jsx)("form",{className:h.a.register,onSubmit:this.handleSubmit,children:Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("h2",{children:"Registration Form"}),Object(g.jsxs)("p",{className:h.a["field field-icon"],children:[Object(g.jsx)("label",{htmlFor:"email",children:Object(g.jsx)("span",{children:Object(g.jsx)("i",{className:"fas fa-envelope"})})}),Object(g.jsx)("input",{type:"text",name:"email",id:"email",value:t,onChange:function(r){return e.handleChange(r,"email")},placeholder:"pesho.peshev@gmail.com"})]}),Object(g.jsx)("p",{className:h.a.error,children:n}),Object(g.jsxs)("p",{className:h.a["field field-icon"],children:[Object(g.jsx)("label",{htmlFor:"password",children:Object(g.jsx)("span",{children:Object(g.jsx)("i",{className:"fas fa-lock"})})}),Object(g.jsx)("input",{type:"password",name:"password",id:"password",value:a,onChange:function(r){return e.handleChange(r,"password")},placeholder:"******"})]}),Object(g.jsx)("p",{className:h.a.error,children:o}),Object(g.jsxs)("p",{className:h.a["field field-icon"],children:[Object(g.jsx)("label",{htmlFor:"rePassword",children:Object(g.jsx)("span",{children:Object(g.jsx)("i",{className:"fas fa-lock"})})}),Object(g.jsx)("input",{type:"password",name:"rePassword",id:"rePassword",value:s,onChange:function(r){return e.handleChange(r,"rePassword")},placeholder:"******"})]}),Object(g.jsx)("p",{className:h.a.error,children:i}),Object(g.jsx)("p",{className:h.a.error,children:c}),Object(g.jsx)("button",{type:"submit",children:"Create Account"}),Object(g.jsxs)("p",{className:h.a["text-center"],children:["Already registered?",Object(g.jsx)(j.b,{to:"/user/login",children:"Login"})]})]})}),this.context.loggedIn?Object(g.jsx)(f.a,{to:"/"}):null]})}}]),t}(d.Component);x.contextType=m.a,r.default=x}}]);
//# sourceMappingURL=11.3b292572.chunk.js.map